<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SLE</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fluardi/cobA@f0d25fe0571c5bd3035dbe981d8acdb700822b61/css%20kuis/first.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fluardi/cobA@f0d25fe0571c5bd3035dbe981d8acdb700822b61/css%20kuis/second.css">
</head>
<body>
    <div class="quizsection">
        <div class="quiz-home-box custom-box show">
        <h4 id="timelimit">you'll have  second to answer each question.</h4>
        <button type="button" class="start-quiz-btn btn">Mulai Kuis</button>
        </div>
        <div class="quiz-box custom-box">
        <div class="stats">
        <div class="quiz-time">
        <div class="remaining-time"></div>
            <span class="time-up-text">Waktu habis</span>
        </div>
        <div class="score-board">
        <span class="score-text">Skor:</span>
        <span class="correct-answer"></span>
        </div>
        </div>
        <div class="question-box">
        <div class="current-question-num">
        </div>
        <div class="question-text">
            
        </div>
        </div>
        <div class="option-box">
    
        </div>
        <div class="answer-description">
            
        </div>
        <div class="next-question">
        <button type="button" class="next-question-btn btn">Pertanyaan berikutnya</button>
        <button type="button" class="see-result-btn btn">Lihat Hasil</button>
        </div>
       
        </div>
     
        <div class="quiz-over-box custom-box">
        <h1>Hasil Kuis</h1>

        <h4>Jumlah Pertanyaan: <span class="total-questions"></span></h4>
        <h4>Yg dijawab: <span class="total-attempt"></span></h4>
        <h4>Betul: <span class="total-correct"></span></h4>
        <h4>Salah: <span class="total-wrong"></span></h4>
        <h4>Persentasi: <span class="percentage"></span></h4>
        
        <hr>
    
        <button type="button" class="start-again-quiz-btn btn">Mulai Lagi</button>
        <button type="button" class="go-home-btn btn">Lihat materi SLE</button>
        <!-- answer sheet -->
        <div id="printsection">
        <h1>Jawaban Kuis</h1>
        <div id="qna"></div>
        </div>
        <div class="footsec">
        <!--<button class="share" onclick="window.open('whatsapp://send?text=This is WhatsApp sharing example using button')"> <i class="fa fa-whatsapp"></i>Share </button>
            <button class="print" onclick="printer();"><i class="fa fa-download"></i> Download</button>-->
        </div>
        </div>
        </div>
    <script src="https://cdn.jsdelivr.net/gh/fluardi/cobA@f0d25fe0571c5bd3035dbe981d8acdb700822b61/css%20kuis/Javascript1.js"></script>
    <script>
  var time=60;myApp=[{question:'Ny. Alluka Zoldyk, 25 tahun, datang ke RS dengan keluhan nyeri sendi sejak 3 bulan lalu. Pasien mengatakan nyeri sendi berpindah-pindah namun paling sering di pergelangan tangan dan lutut. Pasien juga mengeluh lesu, lemah, berat badan turun sebanyak 3 kg dalam 4 bulan terakhir dan lebih sensitif terhadap cahaya, terutama cahaya matahari. Pada pemeriksaan fisik didapai ruam malar dan ruam diskoid pada wajah. Pemeriksaan lab didapati ANA dan anti dsDNA lebih tinggi dari normal. Reumatoid Faktor (-). <b>Apakah kemungkinan diagnosis pasien tersebut?</b>', 
options:
['Rheumatoid Arthritis',
'SLE',
'Gout Arthritis',
'Spondiloarthritis',
'Osteoarthritis'],
answer:1 },
{question:'Wanita 30 tahun datang dengan keluhan badan lemas dan disertai nyeri sendi yang kumat-kumatan sejak 3 bulan yang lalu. Pasien juga mengeluh sering mengalami sariawan. Dari pemeriksaan fisik didapatkan malar rash (+), TTV TD 150/90 mmHg, HR 80x/menit RR 20x/menit tax 36.5C. Dari hasil UL didapatkan proteinuria (++), Ur 60 mg/dl, kreatinin 2.3 mg/dl. <b>Apakah terapi induksi untuk pasien saat ini yang paling tepat?</b>', 
options:
['Deksametason',
'Metilprednisolon',
'Metotrexate',
'Siklofosfamid',
'Klorokuin'],
answer:1 },
{question:'Perempuan usia 22 tahun datang ke PKM dengan keluhan nyeri sendi sejak 3 bulan lalu. Nyeri sendi berpindah-pindah namun paling sering di pergelangan tangan dan lutut. Pasien juga mengeluh lesu, lemah, berat badan turun sebanyak 3 kg dalam 4 bulan terakhir dan lebih sensitif terhadap cahaya, terutama cahaya matahari. Pada pemeriksaan fisik didapati ruam malar dan ruam diskoid pada wajah. Pemeriksaan laboratorium didapati ANA dan anti dsDNA lebih tinggi dari normal, rheumatoid factor (-).<b>Diagnosis pada pasien ini adalah...?</b>', 
options:
['Rheumatoid Arthritis',
'SLE',
'Gout Arthritis',
'Spondiloarthritis',
'Osteoarthritis'],
answer:1 },
{question:'Seorang wanita 26 tahun mengeluhkan nyeri sendi tangan kanan dan kiri kumat-kumatan sejak 3 bulan. Pasien juga menderita sariawan yang tak kunjung sembuh sejak 1 bulan. Dari pemeriksaan fisik TTV dalam batas normal, konjuctiva pucat. Laboratorium Hb 8 mg/dl, Ur 120 mg/dl dan Cr 2.5 mg/dl. UL proteinuria (++) dan hematuria (+). Terdapat ruam kemerahan di pipi pasien. <b>Apa pemeriksaan paling spesifik yang sebaiknya dilakukan pada pasien ini?</b>', 
options:
['Usg ginjal',
'ANA test',
'dsDNA test',
'Photo x ray manus',
'ASTO'],
answer:2 },
{question:'Seorang wanita, usia 40 tahun, datang dengan keluhan nyeri pada persendian pergelangan tangan, siku, lutut dan pergelangan kaki sejak kurang lebih 6 bulan lalu. Keluhan disertai mudah lelah dan lemas. Pada wajah tampak sedikit bercak kemerahan di pipi dan ulkus multiple pada rongga mulut. Pemeriksaan fisik didapatkan TD 110/70 mmHg, nadi 88x/menit, RR 18x/menit. <b>Tatalaksana yang tepat untuk pasien ini adalah?</b>', 
options:
['Piridoxin',
'Sulfasalazin',
'Verapamil',
'Metotrexat',
'Siklosporin'],
answer:3 },

  ]
    </script>
    <!--ini adalah script untuk navigasi-->
  <script>
  var timeLimit =time;
   document.getElementById('timelimit').innerHTML ="Selamat datang di kuis fluardi.site, ini adalah kuis tentang SLE. Kamu punya  "+timeLimit+" detik untuk menjawab tiap pertanyaan. Selamat Mengerjakan";
  const section = document.getElementById('qna');
  
  const fragment = document.createDocumentFragment();
  
  myApp.forEach(question => {
    const paragraph = document.createElement('li');
    
    paragraph.innerHTML = `${question.question} - <span style='color: green;'>${question.options[question.answer]}</span>`;
    
    fragment.appendChild(paragraph);
  });
  
  section.appendChild(fragment);
  
  function load(){
      number++;
     questionText.innerHTML=myApp[questionIndex].question;
      creatOptions();
      scoreBoard();
      currentQuestionNum.innerHTML=number + " / " +myApp.length;
  }
  function creatOptions(){
      optionBox.innerHTML="";
      let animationDelay=0.2;
      for(let i=0; i<myApp[questionIndex].options.length; i++){
          const option=document.createElement("div");
                option.innerHTML=myApp[questionIndex].options[i];
                option.classList.add("option");
                option.id=i;
                option.style.animationDelay=animationDelay + "s";
                animationDelay=animationDelay+0.2;
                option.setAttribute("onclick","check(this)");
                optionBox.appendChild(option);
          
      }
  }
  
  function generateRandomQuestion(){
      const randomNumber=Math.floor(Math.random() * myApp.length);
     let hitDuplicate=0;
     if(myArray.length == 0){
          questionIndex=randomNumber;
      }
      else{
          for(let i=0; i<myArray.length; i++){
              if(randomNumber == myArray[i]){
                  //if duplicate found
                  hitDuplicate=1;
                  
              }
          }
          if(hitDuplicate == 1){
              generateRandomQuestion();
              return;
          }
          else{
              questionIndex=randomNumber;
          }
      }
      
      myArray.push(randomNumber);
      console.log(myArray)
      load();
  }
  
  function check(ele){
      const id=ele.id;
      if(id==myApp[questionIndex].answer){
         ele.classList.add("correct");
          score++;
          scoreBoard();
      }
      else{
          ele.classList.add("wrong");
          //show correct option when clicked answer is wrong
          for(let i=0; i<optionBox.children.length; i++){
              if(optionBox.children[i].id==myApp[questionIndex].answer){
                  optionBox.children[i].classList.add("show-correct");
              }
          }
      }
      attempt++;
      disableOptions()
      showAnswerDescription();
      showNextQuestionBtn();
      stopTimer();
      
      if(number == myApp.length){
          quizOver();
      }
  }
  function timeIsUp(){
      showTimeUpText();
      //when time is up Show Correct Answer
      for(let i=0; i<optionBox.children.length; i++){
              if(optionBox.children[i].id==myApp[questionIndex].answer){
                  optionBox.children[i].classList.add("show-correct");
                  
              }
          }
      disableOptions()
      showAnswerDescription();
      showNextQuestionBtn();
      if(number == myApp.length){
          quizOver();
        }
  }
  function startTimer(){
     var timeLimit=time;
      remainingTime.innerHTML=timeLimit;
      remainingTime.classList.remove("less-time");
      interval=setInterval(()=>{
        timeLimit--;
          if(timeLimit < 10){
              timeLimit="0"+timeLimit;
              
              }
              if(timeLimit < 6){
                  remainingTime.classList.add("less-time");
              }
              remainingTime.innerHTML=timeLimit;
              if(timeLimit == 0){
              clearInterval(interval);
              timeIsUp();
      }
      },1000)
  }
  function stopTimer(){
      clearInterval(interval);
  }
  function disableOptions(){
      for(let i=0; i<optionBox.children.length; i++){
          optionBox.children[i].classList.add("already-answered")
      }
  }
  function showAnswerDescription(){
      if(typeof myApp[questionIndex].description !== 'undefined'){
          answerDescription.classList.add("show");
          answerDescription.innerHTML=myApp[questionIndex].description;
      }
      
  }
  function hideAnswerDescription(){
      answerDescription.classList.remove("show");
      answerDescription.innerHTML="";
  }
  
  function showNextQuestionBtn(){
      nextQuestionBtn.classList.add("show");
  }
  function hideNextQuestionBtn(){
      nextQuestionBtn.classList.remove("show");
  }
  function showTimeUpText(){
      timeUpText.classList.add("show");
  }
  function hideTimeUpText(){
      timeUpText.classList.remove("show");
      
  }
  function scoreBoard(){
      correctAnswers.innerHTML=score;
  }
  
  nextQuestionBtn.addEventListener("click",nextQuestion);
  
  function nextQuestion(){
     generateRandomQuestion();
      hideNextQuestionBtn();
      hideAnswerDescription();
      hideTimeUpText();
      startTimer();
  }
  function quizResult(){
      document.querySelector(".total-questions").innerHTML=myApp.length;
      document.querySelector(".total-attempt").innerHTML=attempt;
      document.querySelector(".total-correct").innerHTML=score;
      document.querySelector(".total-wrong").innerHTML=attempt-score;
      const percentage=(score/myApp.length)*100;
      document.querySelector(".percentage").innerHTML=percentage.toFixed(2) +"%";
  
  }
  function resetQuiz(){
    attempt=0;
    //questionIndex=0;
    score=0;
    number=0;
    myArray=[];
  }
  
  function quizOver(){
      nextQuestionBtn.classList.remove("show");
      seeResultBtn.classList.add("show");
  }
  seeResultBtn.addEventListener("click", ()=>{
      quizBox.classList.remove("show");
      seeResultBtn.classList.remove("show");
      quizOverBox.classList.add("show");
      quizResult();
       })
  
  startAgainQuizBtn.addEventListener("click", ()=>{
      quizBox.classList.add("show");
      quizOverBox.classList.remove("show");
      resetQuiz();
      nextQuestion();
      })
  
  goHomeBtn.addEventListener("click", ()=>{
      window.location='https://www.fluardi.site/divisi/ilmu-penyakit-dalam/systemic-lupus-erythematosus-sle',
    '_blank' || window.location.replace('https://www.fluardi.site/divisi/ilmu-penyakit-dalam/systemic-lupus-erythematosus-sle');
  })
  
  startQuizBtn.addEventListener("click", ()=>{
      quizHomeBox.classList.remove("show");
      quizBox.classList.add("show");
      nextQuestion();
  })
    </script>
</body>
</html>
